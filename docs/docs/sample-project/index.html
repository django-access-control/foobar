<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.85.0" /><META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>The sample project | 🔒 Django access control</title><meta property="og:title" content="The sample project" />
<meta property="og:description" content="This is a sample project demonstrating what Django Access Control is capable of.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/sample-project/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2021-07-08T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-07-10T01:20:10+03:00" />

<meta itemprop="name" content="The sample project">
<meta itemprop="description" content="This is a sample project demonstrating what Django Access Control is capable of.
"><meta itemprop="datePublished" content="2021-07-08T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-07-10T01:20:10+03:00" />
<meta itemprop="wordCount" content="501">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The sample project"/>
<meta name="twitter:description" content="This is a sample project demonstrating what Django Access Control is capable of.
"/>





<link rel="preload" href="/scss/main.min.23de4c98e47cec9bdeb7760e526985f239bf3e022d174b9e947d3fdfe8764b0c.css" as="style">
<link href="/scss/main.min.23de4c98e47cec9bdeb7760e526985f239bf3e022d174b9e947d3fdfe8764b0c.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>


<style>
    .nav-link[href="/docs/"] {
        visibility: hidden !important;
    }
    .td-page-meta > a:nth-child(1), .td-page-meta > a:nth-child(2) {
        visibility: hidden;
    }
</style>

  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">🔒 Django access control</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a  class="nav-link active" href="/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.d338d5b11e0bdf8fdb370d366b552980.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center d-lg-none">
    



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.d338d5b11e0bdf8fdb370d366b552980.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="docs">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsuserguide" href="/docs/userguide/">User guide</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstheory" href="/docs/theory/">Theory</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page  active" id="m-docssample-project" href="/docs/sample-project/">The sample project</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssecurity-notice" href="/docs/security-notice/">Notes on security</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssimilar-projects" href="/docs/similar-projects/">Similar projects</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docschangelog" href="/docs/changelog/">Changelog</a>
        
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











<a href="https://github.com/django-access-control/django-access-control.github.io/edit/master/content/en/docs/sample-project.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/django-access-control/django-access-control.github.io/new/master/content/en/docs/sample-project.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/django-access-control/django-access-control.github.io/issues/new?title=The%20sample%20project" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/django-access-control/django-access-control/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>



<a id="print" href="/docs/_print/"><i class="fa fa-print fa-fw"></i> Print entire section</a>



</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#installation-and-setup">Installation and setup</a></li>
    <li><a href="#an-quick-walk-through">An quick walk through</a>
      <ul>
        <li><a href="#the-anonymous-users-point-of-view">The anonymous user&rsquo;s point of view</a></li>
        <li><a href="#the-logged-in-users-point-of-view">The logged in user&rsquo;s point of view</a></li>
        <li><a href="#the-staff-members-point-of-view">The staff member&rsquo;s point of view</a></li>
      </ul>
    </li>
    <li><a href="#and-what-is-the-significance-of-this">And what is the significance of this?</a></li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		







<li class="breadcrumb-item" >
	<a href="/docs/">Documentation</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="/docs/sample-project/">The sample project</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>The sample project</h1>
    <div class="lead">This is a sample project demonstrating what Django Access Control is capable of.</div>
	       
	<p>Here we have a simple forum site for questions about ethics. Beside the built in models like <code>User</code> it has only one model: the <code>Question</code> (and &ndash; unfortunately &ndash; no model for answers&hellip;).</p>
<p>There are three types of users with different sets of permissions:</p>
<ul>
<li>Anonymous users can view (but not edit) questions, which have <code>is_published</code> set to <code>True</code>.</li>
<li>Logged in users can see published questions and also ask new ones. Later on they can edit the body of the question, but not its title. The author of the question can see it even if it is not published.</li>
<li>Staff members have the additional privileges of also seeing unpublished questions and changing the question&rsquo;s <code>is_published</code> value. It is <code>True</code> by default.</li>
</ul>
<h2 id="installation-and-setup">Installation and setup</h2>
<p>The source code can br found <a href="https://github.com/django-access-control/example-project">here</a>.</p>
<p>Assuming that you have a Unix-like shell, the setup is as follows:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git clone git@github.com:django-access-control/example-project.git
<span style="color:#204a87">cd</span> example-project
python3.9 -m venv venv
. ./venv/bin/activate
pip install -r requirements.txt
mv db.sqlite3.example db.sqlite3
./manage.py runserver
</code></pre></div><h2 id="an-quick-walk-through">An quick walk through</h2>
<h3 id="the-anonymous-users-point-of-view">The anonymous user&rsquo;s point of view</h3>
<ol>
<li>Open <code>http://127.0.0.1:8000/</code> in your browser. You should see the familiar Django admin interface.</li>
</ol>
<p><img src="/img/anonymous-user-index-view.png" alt="The index view"></p>
<ol start="2">
<li>Click on the blue text &ldquo;Questions&rdquo; and you see the list view of all published questions.</li>
</ol>
<p><img src="/img/anonymous-user-list-view.png" alt="The list view"></p>
<ol start="3">
<li>Click on the first question and you will see a read-only detailed view.</li>
</ol>
<p><img src="/img/anonymous-user-question-view.png" alt="The readonly view"></p>
<h3 id="the-logged-in-users-point-of-view">The logged in user&rsquo;s point of view</h3>
<ol>
<li>Click &ldquo;LOG IN&rdquo; in the upper right corner and enter the username <code>Thomas_Aquinas</code> and password: <code>adminadmin</code>. You will be directed back to the index page. Now the &ldquo;+ Add&rdquo; button has appeared for &ldquo;Questions&rdquo;.</li>
</ol>
<p><img src="/img/aquinas-index-view.png" alt="The index view"></p>
<ol start="2">
<li>Click again on the blue text &ldquo;Questions&rdquo; and you will see the list view. That time, however, one more question has appeared: &ldquo;What is virtue?&rdquo; is not published, but since Thomas Aquinas (the logged in user) is the author of that question, they can still see it.</li>
</ol>
<p><img src="/img/aquinas-list-view.png" alt="The list view"></p>
<ol start="3">
<li>Clicking on the title of that question will open the change view where you can make adjustments to the body of the question.</li>
</ol>
<p><img src="/img/my-question-edit-view.png" alt="The readonly view"></p>
<ol start="4">
<li>Opening a question by some other author (e.g. &ldquo;What makes somebody&rsquo;s life meaningful?&rdquo; will open a read-only view).</li>
</ol>
<p><img src="/img/other-author-question-view.png" alt="The readonly view"></p>
<h3 id="the-staff-members-point-of-view">The staff member&rsquo;s point of view</h3>
<p>Click &ldquo;LOG OUT&rdquo; in the upper right corner, click &ldquo;LOG IN&rdquo; and enter the username <code>Nāgārjuna</code> and password: <code>adminadmin</code>. Click on the blue text &ldquo;Questions&rdquo; and then click on any of the questions in the list view. Now you see a checkbox to alter the &ldquo;Is published&rdquo; value.</p>
<p><img src="/img/change-is-published.png" alt="The list view"></p>
<h2 id="and-what-is-the-significance-of-this">And what is the significance of this?</h2>
<p>The above screenshots do not look like something very special, do they? Any descent application should be able to do that, shouldn&rsquo;t it?</p>
<p>The value lies in the way access control is implemented: not in the template layer among your HTML code, but in the data access layer, so that all the views, REST &amp; GraphQL controllers, CLI commands and other parts of the app can all go through the very same security layer. All the security configuration lives in the <a href="https://github.com/django-access-control/example-project/blob/master/questions/models.py"><code>QuestionQuerySet</code></a> class and &ndash; thanks to sensible default &ndash; is no more than 34 lines long.</p>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified July 10, 2021: <a  href="https://github.com/django-access-control/django-access-control.github.io/commit/9c461624b246890807d1c214ae5bc8a097e61357">Working on homepage (9c46162)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>













<script src="/js/main.min.63db3e552bd0543be17ce4a79a18b744e9cb72256bec42b540e3ab0cd43722d0.js" integrity="sha256-Y9s&#43;VSvQVDvhfOSnmhi3ROnLciVr7EK1QOOrDNQ3ItA=" crossorigin="anonymous"></script>




  </body>
</html>